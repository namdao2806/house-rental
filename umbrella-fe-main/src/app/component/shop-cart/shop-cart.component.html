<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"
      integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A=="
      crossorigin="anonymous" referrerpolicy="no-referrer"/>
<app-header></app-header>
<app-navbar></app-navbar>
<br>
<div class="checkout" >
  <div class="container">


    <div>
      <button style="margin-left: 40px;margin-bottom: 5px;font-size: 20px" data-toggle="modal"
              data-target="#exampleModal-shop-cart" type="submit" class="btn button-shop-cart"><i
        class="fa-solid fa-basket-shopping" style="margin-right: 5px"></i>Thanh Toán
      </button>
      <button (click)="goHome()" style="margin-left: 800px;margin-bottom: 5px" class="btn button-shop-cart">Tiếp Tục Mua
        Sắm <i class="fa-solid fa-cart-shopping" style="margin-left: 5px"></i></button>
    </div>
    <br>
    <h2 style="">Số lượng sản phẩm trong giỏ hàng <span>{{countProduct}} sản phẩm</span></h2>
    <div class="checkout-right">

      <table class="timetable_sub">
        <thead>
        <tr>
          <th style="font-size: 18px">STT</th>
          <th style="font-size: 18px">Hình ảnh</th>
          <th style="font-size: 18px">Số Lượng</th>
          <th style="font-size: 18px;width: 400px">Tên Sản Phẩm</th>

          <th style="font-size: 18px">Giá (VNĐ)</th>
          <th style="font-size: 18px;width: 150px">Xóa</th>
        </tr>
        </thead>

        <tr class="rem1" *ngFor="let cart of carts; index as i">
          <td class="invert">{{i + 1}}</td>
          <td style="width: 200px" class="invert-image"><img src="{{cart.product.image[0].image}}" alt=""
                                                             style="border-radius: 5px;border:1px solid white; height:170px;width:200px"
                                                             class="img-responsive"/></td>
          <td class="invert">
            <form [formGroup]="editCartForm">
              <div class="quantity">
                <div class="quantity-select">
                  <button (click)="downCountPr(i)" style="border: none"><i class="entry value-minus">&nbsp;</i></button>
                  <div style="margin-left: 3px; top: -8px; position: relative;" class=" value"
                       formControlName="quantity"><label>{{cart.quantity}} </label></div>
                  <button (click)="upCountPr(i)" style="border: none">
                    <div class="entry value-plus active">&nbsp;</div>
                  </button>
                </div>
              </div>
            </form>

          </td>
          <td class="invert">{{cart.product.name}}</td>

          <td class="invert">{{cart.product.price}}</td>
          <td class="invert">
            <div class="rem">
              <button class="btn button-delete" style="background-color: grey" (click)="delete(cart.id)"><i
                class="fa-solid fa-trash"></i></button>
            </div>
          </td>
        </tr>
      </table>
    </div>
    <!---728x90--->

  </div>
</div>
<app-footer></app-footer>
<!-- Button trigger modal -->
<!-- Modal -->
<div class="modal fade" id="exampleModal-shop-cart" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="exampleModalLabel" style="text-align: center">Hóa Đơn Thanh Toán</h3>
      </div>
      <div>
        <div>
          <div>
            <div>
              <table class="timetable_sub">
                <thead>

                <tr style="width: 848px">
                  <th style="width: 212px;height: 50px">STT</th>
                  <th style="width: 212px;height: 50px" colspan="2">Tên sản phẩm</th>
                  <th style="width: 212px;height: 50px">Số lượng</th>
                  <th style="width: 212px;height: 50px" colspan="2">giá (VNĐ)</th>
                </tr>
                </thead>
                <tr class="rem1" *ngFor="let cart of carts; index as i">
                  <td style="height: 50px">{{i + 1}}</td>
                  <td colspan="2">{{cart.product.name}}</td>
                  <td>{{cart.quantity}}</td>
                  <td style="font-weight: 600" colspan="2">{{cart.product.price * cart.quantity}}</td>
                </tr>
                <td colspan="3" style="font-size: 20px;font-weight: 600">Tổng:</td>
                <td style="font-size: 20px;font-weight: 600">{{totalQuantity1}}</td>
                <td style="height: 50px;font-weight: 600;font-size: 18px">{{totalMoney}}</td>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn button-shop-cart" style="margin-right: 350px" (click)="checkout()">Xác Nhận
        </button>
      </div>
    </div>
  </div>
</div>


